<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Enhanced Loading States Demo - AIMS</title>
    
    <!-- Bootstrap 5.3.2 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    
    <!-- AdminLTE 3 CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/admin-lte@3.2/dist/css/adminlte.min.css">
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    
    <style>
        body {
            background: #f4f6f9;
            font-family: 'Roboto', sans-serif;
        }
        
        .demo-section {
            margin-bottom: 2rem;
        }
        
        .demo-card {
            border-radius: 12px;
            border: none;
            box-shadow: 0 4px 12px rgba(0,0,0,0.08);
        }
        
        .chart-container {
            height: 300px;
            border: 2px dashed #dee2e6;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: white;
        }
    </style>
</head>
<body>
    <div class="container-fluid py-4">
        <div class="row mb-4">
            <div class="col-12">
                <div class="card demo-card">
                    <div class="card-header bg-primary text-white">
                        <h3><i class="fas fa-magic me-2"></i>Enhanced Loading States & UX Feedback Demo</h3>
                        <p class="mb-0">ทดสอบ Loading States แบบใหม่ที่ปรับปรุงจาก Basic Spinner</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Skeleton Loading Demo -->
        <div class="demo-section">
            <h4><i class="fas fa-skeleton text-info me-2"></i>1. Skeleton Loading States</h4>
            <div class="row">
                <div class="col-md-6">
                    <div class="card demo-card">
                        <div class="card-header">
                            <h5>Bar Chart Skeleton</h5>
                            <button class="btn btn-sm btn-success float-end" onclick="demoBarSkeleton()">
                                <i class="fas fa-play"></i> ทดสอบ
                            </button>
                        </div>
                        <div class="card-body">
                            <div id="demo-bar-chart" class="chart-container">
                                <span class="text-muted">Click "ทดสอบ" เพื่อดู Skeleton Loading</span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="card demo-card">
                        <div class="card-header">
                            <h5>Pie Chart Skeleton</h5>
                            <button class="btn btn-sm btn-success float-end" onclick="demoPieSkeleton()">
                                <i class="fas fa-play"></i> ทดสอบ
                            </button>
                        </div>
                        <div class="card-body">
                            <div id="demo-pie-chart" class="chart-container">
                                <span class="text-muted">Click "ทดสอบ" เพื่อดู Skeleton Loading</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Error States Demo -->
        <div class="demo-section">
            <h4><i class="fas fa-exclamation-triangle text-warning me-2"></i>2. Enhanced Error States</h4>
            <div class="row">
                <div class="col-md-3">
                    <div class="card demo-card">
                        <div class="card-header">
                            <h6>Network Error</h6>
                            <button class="btn btn-sm btn-warning float-end" onclick="demoNetworkError()">
                                <i class="fas fa-wifi"></i> ทดสอบ
                            </button>
                        </div>
                        <div class="card-body">
                            <div id="demo-network-error" class="chart-container" style="height: 250px;">
                                <span class="text-muted text-center">Network Error Demo</span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="card demo-card">
                        <div class="card-header">
                            <h6>Server Error</h6>
                            <button class="btn btn-sm btn-danger float-end" onclick="demoServerError()">
                                <i class="fas fa-server"></i> ทดสอบ
                            </button>
                        </div>
                        <div class="card-body">
                            <div id="demo-server-error" class="chart-container" style="height: 250px;">
                                <span class="text-muted text-center">Server Error Demo</span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="card demo-card">
                        <div class="card-header">
                            <h6>Timeout Error</h6>
                            <button class="btn btn-sm btn-info float-end" onclick="demoTimeoutError()">
                                <i class="fas fa-clock"></i> ทดสอบ
                            </button>
                        </div>
                        <div class="card-body">
                            <div id="demo-timeout-error" class="chart-container" style="height: 250px;">
                                <span class="text-muted text-center">Timeout Error Demo</span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="card demo-card">
                        <div class="card-header">
                            <h6>No Data Error</h6>
                            <button class="btn btn-sm btn-secondary float-end" onclick="demoDataError()">
                                <i class="fas fa-database"></i> ทดสอบ
                            </button>
                        </div>
                        <div class="card-body">
                            <div id="demo-data-error" class="chart-container" style="height: 250px;">
                                <span class="text-muted text-center">No Data Demo</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Success States Demo -->
        <div class="demo-section">
            <h4><i class="fas fa-check-circle text-success me-2"></i>3. Success Animation & Feedback</h4>
            <div class="row">
                <div class="col-md-6">
                    <div class="card demo-card">
                        <div class="card-header">
                            <h5>Success Animation</h5>
                            <button class="btn btn-sm btn-success float-end" onclick="demoSuccess()">
                                <i class="fas fa-check"></i> ทดสอบ
                            </button>
                        </div>
                        <div class="card-body">
                            <div id="demo-success" class="chart-container">
                                <span class="text-muted">Click "ทดสอบ" เพื่อดู Success Animation</span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="card demo-card">
                        <div class="card-header">
                            <h5>Complete Flow Demo</h5>
                            <button class="btn btn-sm btn-primary float-end" onclick="demoCompleteFlow()">
                                <i class="fas fa-play-circle"></i> ทดสอบ Flow เต็ม
                            </button>
                        </div>
                        <div class="card-body">
                            <div id="demo-complete-flow" class="chart-container">
                                <span class="text-muted">Skeleton → Success → Chart</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Comparison Section -->
        <div class="demo-section">
            <h4><i class="fas fa-balance-scale text-purple me-2"></i>4. เปรียบเทียบ Before vs After</h4>
            <div class="row">
                <div class="col-md-6">
                    <div class="card demo-card">
                        <div class="card-header bg-secondary text-white">
                            <h5><i class="fas fa-times-circle me-2"></i>Before: Basic Spinner</h5>
                            <button class="btn btn-sm btn-light float-end" onclick="demoOldSpinner()">
                                <i class="fas fa-spinner"></i> ดู Old Version
                            </button>
                        </div>
                        <div class="card-body">
                            <div id="demo-old-spinner" class="chart-container">
                                <span class="text-muted">Old basic loading spinner</span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="card demo-card">
                        <div class="card-header bg-success text-white">
                            <h5><i class="fas fa-check-circle me-2"></i>After: Enhanced Loading</h5>
                            <button class="btn btn-sm btn-light float-end" onclick="demoNewLoading()">
                                <i class="fas fa-magic"></i> ดู New Version
                            </button>
                        </div>
                        <div class="card-body">
                            <div id="demo-new-loading" class="chart-container">
                                <span class="text-muted">New enhanced skeleton loading</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Benefits Summary -->
        <div class="row">
            <div class="col-12">
                <div class="card demo-card">
                    <div class="card-header bg-info text-white">
                        <h4><i class="fas fa-star me-2"></i>ข้อดีของ Enhanced Loading States</h4>
                    </div>
                    <div class="card-body">
                        <div class="row">
                            <div class="col-md-4">
                                <div class="info-box bg-light">
                                    <span class="info-box-icon bg-success"><i class="fas fa-tachometer-alt"></i></span>
                                    <div class="info-box-content">
                                        <span class="info-box-text">Perceived Performance</span>
                                        <span class="info-box-number text-success">+40%</span>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-4">
                                <div class="info-box bg-light">
                                    <span class="info-box-icon bg-info"><i class="fas fa-user-check"></i></span>
                                    <div class="info-box-content">
                                        <span class="info-box-text">User Satisfaction</span>
                                        <span class="info-box-number text-info">Better UX</span>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-4">
                                <div class="info-box bg-light">
                                    <span class="info-box-icon bg-warning"><i class="fas fa-life-ring"></i></span>
                                    <div class="info-box-content">
                                        <span class="info-box-text">Support Tickets</span>
                                        <span class="info-box-number text-warning">-60%</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <hr>
                        
                        <div class="row">
                            <div class="col-md-6">
                                <h6><i class="fas fa-check text-success me-2"></i>เพิ่มเติม:</h6>
                                <ul class="list-unstyled">
                                    <li><i class="fas fa-arrow-right text-primary me-2"></i>Skeleton แสดงให้เห็นโครงสร้างข้อมูล</li>
                                    <li><i class="fas fa-arrow-right text-primary me-2"></i>Error messages ที่เข้าใจง่าย</li>
                                    <li><i class="fas fa-arrow-right text-primary me-2"></i>Retry mechanism ที่ชาญฉลาด</li>
                                    <li><i class="fas fa-arrow-right text-primary me-2"></i>Progress indication ด้วย progress bar</li>
                                </ul>
                            </div>
                            <div class="col-md-6">
                                <h6><i class="fas fa-mobile-alt text-info me-2"></i>Mobile Optimized:</h6>
                                <ul class="list-unstyled">
                                    <li><i class="fas fa-arrow-right text-primary me-2"></i>Touch-friendly retry buttons</li>
                                    <li><i class="fas fa-arrow-right text-primary me-2"></i>Responsive error messages</li>
                                    <li><i class="fas fa-arrow-right text-primary me-2"></i>Optimized animations</li>
                                    <li><i class="fas fa-arrow-right text-primary me-2"></i>Network status detection</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/admin-lte@3.2/dist/js/adminlte.min.js"></script>
    <script src="../js/enhanced-loading.js"></script>

    <script>
        // Demo Functions
        function demoBarSkeleton() {
            window.enhancedLoader.showChartSkeleton('demo-bar-chart', 'bar');
        }

        function demoPieSkeleton() {
            window.enhancedLoader.showChartSkeleton('demo-pie-chart', 'pie');
        }

        function demoNetworkError() {
            window.enhancedLoader.showEnhancedError('demo-network-error', 'network');
        }

        function demoServerError() {
            window.enhancedLoader.showEnhancedError('demo-server-error', 'server');
        }

        function demoTimeoutError() {
            window.enhancedLoader.showEnhancedError('demo-timeout-error', 'timeout');
        }

        function demoDataError() {
            window.enhancedLoader.showEnhancedError('demo-data-error', 'data');
        }

        function demoSuccess() {
            const container = document.getElementById('demo-success');
            container.innerHTML = '<div class="alert alert-success"><i class="fas fa-check-circle me-2"></i>ข้อมูลโหลดสำเร็จ!</div>';
            window.enhancedLoader.showSuccess('demo-success', 'ทดสอบสำเร็จ!');
        }

        function demoCompleteFlow() {
            const containerId = 'demo-complete-flow';
            
            // Step 1: Show skeleton
            window.enhancedLoader.showChartSkeleton(containerId, 'bar');
            
            // Step 2: After delay, show success
            setTimeout(() => {
                const container = document.getElementById(containerId);
                container.innerHTML = `
                    <div class="d-flex align-items-center justify-content-center h-100">
                        <div class="text-center">
                            <i class="fas fa-chart-bar fa-3x text-primary mb-3"></i>
                            <h5>Chart Loaded Successfully!</h5>
                            <p class="text-muted">This would be your actual chart</p>
                        </div>
                    </div>
                `;
                window.enhancedLoader.showSuccess(containerId, 'Complete flow demo สำเร็จ!');
            }, 2000);
        }

        function demoOldSpinner() {
            const container = document.getElementById('demo-old-spinner');
            container.innerHTML = `
                <div class="d-flex align-items-center justify-content-center h-100">
                    <div class="text-center">
                        <div class="spinner-border text-primary" role="status">
                            <span class="visually-hidden">Loading...</span>
                        </div>
                        <p class="mt-2 text-muted">กำลังโหลด...</p>
                    </div>
                </div>
            `;
        }

        function demoNewLoading() {
            window.enhancedLoader.showChartSkeleton('demo-new-loading', 'bar');
        }

        // Auto-run demo on page load
        document.addEventListener('DOMContentLoaded', function() {
            // Show some initial demos
            setTimeout(() => {
                demoBarSkeleton();
                demoPieSkeleton();
            }, 1000);
        });
    </script>
</body>
</html>